let data = {
  $class: "org.example.basic.PatientData",
  EHR_ID: "1337",
  TreatmentDetails: [
    {
      $class: "org.example.basic.TreatmentDetails",
      HospitalName:
        "U2FsdGVkX1/M+HFGj9DDuNZ5pDLgOiKHHntRuO66AS0/tyRnGiN4Zzi9kEoSETleiNi+m1qdGmcVvC6EtBIgkw==",
      StaffId:
        "U2FsdGVkX1+brUgVoAaUyjg4TpIK65MpY/kVDj+h080C1wNyoTcW2jW6dwq/YTln4E5H9zonGisfjDRSF8ETtg==",
      PinCode:
        "U2FsdGVkX1+4SNBdR5Hkf5imOQ8PVfK0CWMueC461LuZK8flnDesBdp2FDoGiyF9imDjITeaDjyAI00T2lItUA==",
      patientData: "resource:org.example.basic.PatientData#1337",
      transactionId:
        "0a11745340c1d177778dca57d9c47f36a8bf72e99a19ddb02f738b3787b69a92",
      timestamp: "2018-09-29T00:14:03.283Z"
    },
    {
      $class: "org.example.basic.TreatmentDetails",
      HospitalName:
        "U2FsdGVkX19hF4ZDNTq/MQ0zpTa+8S6qldiTambUT08DMXjKytePvJixywOpxRm/Duq7wR/pgIMQsTiLBuvb/g==",
      StaffId:
        "U2FsdGVkX18tEQS+cOQtHScz2Fc+keisJsW76/uuUHr91FB3UpCQ/QAHjO1fT/JCmHn5l/3rvkk+Eby4l0JwFQ==",
      PinCode:
        "U2FsdGVkX185o53TluiEojxAHmEgWw5dNsqyNmojV6sYZV5zKdPY0qO1tSqNx+0eDzUCm0f4k88RFaEk/oMPzQ==",
      patientData: "resource:org.example.basic.PatientData#1337",
      transactionId:
        "57cf5c977a990d42242297065b9d9187209d737baca22be69c9c63cfcb2aaedd",
      timestamp: "2018-09-29T01:20:54.135Z"
    },
    {
      $class: "org.example.basic.TreatmentDetails",
      HospitalName:
        "U2FsdGVkX1+8XlXGZfYrv8oDVnVfPjVlwxTNZ2VEXTuGCZ5gp8l6O+A2S4FAmPe6uLpQukY0euLgDh4r8WlHHQ==",
      StaffId:
        "U2FsdGVkX19hflPoyeBU/QFeedlNtkQZ/d/PcHj7rCel1ztod9tO6w0PLPPqdQ65/5vOLXzXxqMJaxsRY8z6WA==",
      PinCode:
        "U2FsdGVkX18v6AAsxQM9HwOsz++nRwCnJcvaYNd7KQbxt2P/jBhAbqZ4dkDaE+Q6VjrwPO0vIi7gw8r9hzgYXw==",
      patientData: "resource:org.example.basic.PatientData#1337",
      transactionId:
        "5ecf29d0a06a41025c03ce07ad8d9c921ff83adb7aaae46130664a0a62835bbc",
      timestamp: "2018-09-29T01:53:22.197Z"
    },
    {
      $class: "org.example.basic.TreatmentDetails",
      HospitalName:
        "U2FsdGVkX1/Eit+qSdTVXPWbS3DIuytrfyHwukVAd09pcKzLEKpb04q2l3bMKlPxFcroZ7Gsv13mcJUJ85TqTOkryrU1j6B7wQyOSZINZB182RSQ6Zi5zYuBv6ik/DPQnr5ASBczs6dD736i9GjbLrqxERejigRkquG4yFlygjnq2wIDFb/azGgApO4IJMIJ3M5d18LGs9wnZljaREkieA==",
      StaffId:
        "U2FsdGVkX19iJL3W0QM5Z4A5+ApOqb59qROD2WSujVOWmqh7/nweYC8s19DS2Tg5f7yefKbRUavH/6kVPh7gQgBMSLsmGjMDZDg5kOnlzPqXWJK4foqt+U8xZ7sarrUSw7nMcUNUtqdWoXltkD+b6w==",
      PinCode:
        "U2FsdGVkX18vG48np7HiNgdQ3/3JkYn/5bviurQn6reC6ZeK7RVPWFbdygvEkyFxnob2MUizJPOp8ZRKT5aOm5HWG86uIgDidNUgimiy8N3wzSIAQYwjoflzzlbSE2LlzLR0pzlHAkIXx4g/uSWyHkHCdjFb1lTJOt2vhyapA3xwhGYWLTyNRvevcfZKbZFl0AKkGfczDbkjl+SH8nTt/w==",
      ChronicDisease:
        "U2FsdGVkX19mnl28OFP/25zO6p30qmPfukvoMUnUJXougUEYyq1aZqXYP8GlpsBbTcLTxOkign7pZpE2k0VCe60tt4Qfet1kMBe+R0xjqv3NubPVHObNlzgnNGh5jK5RwQ1athiZEt1Uk8w/plHeoxDW1Rq+8ovMbquVa6BHMClJsTfwJ+NKP1XYXRDbBKaYSjI5geVplsQoX0LhutybPA==",
      Disease:
        "U2FsdGVkX19POIJWLGmPiJYVjlLPj+EIvhPnWyimprvW8P1HsvzUP24/0l4ZX61a6Tr+UZI+2vQel4iNKmkLLrVVVOcXCaJ3PcXLsQasjYpMm/8/2Soq5WBlyH+c3og/PKMlZGc51LeDxdKt0NLTgA==",
      DiseaseType:
        "U2FsdGVkX19gBBq2YO8tqE+AyqqAeADoXyc2JgDAqLge9TQMFhPCwd9IN1JU3TimTRI92ff1BbydfK4UOWCuNijFbsaeGxQroDWMnM5FkEL2ss5XYM266FWRkQNoMMEnJNn4kN7CI/AHoVq+vsHux1ZhwiAZTGPX0nVaMYLWuCLl4kvreyiDwRyFKhMHuPqcsHtefe576TzJU6b/ftCRVg==",
      DiseaseCategory:
        "U2FsdGVkX1+9bqfqqOtUtItwIWjl2n3ZlmLAsUzzcU5SmV1RutCOAbPeAQoU2LWTUzHhO6aNMa0cTYA59XA+cHgBF4JzEuIhNGok+xvSHsM2UybuKxZ0mna2THgvTQboHPkwUfgrBsjmgX6yq8x7hOZU8BS5GwhuYlbD3RzRCiaLJHRfm6FD/gVIGFd9KQQO9cnYwBuJc38/ktsiBy8Ipw==",
      DiseaseSubCategory:
        "U2FsdGVkX19gODIklgbz8emuKeH1BVBdjCOmJ3j8ucikAwuoLlhFevPOqQmp1hem7BBGCddlLAGw54zeqvGUJolClQ1nohK1MOIZ5Gdo+conBI2rZw02UFgf0d1ptOAWGT/e+8XCl+aZfuqnXZSeLjcRbD7CkyS7rAvWSFRaC3leBdXvSxHsAiA8erc6cUtSp6zSbJOyCimoMWO/AICeE/Q4EnQkadq0F/uiE7VHfwQ=",
      allergies:
        "U2FsdGVkX182Jvv7bingQSCqWG3t7kJVTosw5kD+6+mBpZrdQrlaFJLpVkRlUwnyR+wC0V8iwNt/V866GTF2DUFfSQd1uYWomAxB2ZHRzpMDm2FfVfwFrtbWjDFuWQRAGZUEDJTbMS+gvFUc4Egwng==",
      AlcoholConsumption:
        "U2FsdGVkX1+rGwOUrZtws7uXwlu0Cy6S0z1pD5YhI6hBTibYeEYxPg8oCEhaOZ0X1DQ2K27IcovdNxTeobkRJmW4XHj/pXYPzlIP0QlPpL807+S4hY3W2knbJtjKrd3dxdbF9DqOQYj7vmvdE+Yj1A==",
      SmokingHabits:
        "U2FsdGVkX1+Q7kV3YTCsB0oClTaZWdQX0k96oDh7N4MiX9n0FxwjpGwwaJrB2h5XG1aCN/ZzWvYDV9bCWw9qX+mr6kDiWKGzSIRvJsjM0kjMQLkQ+puTTH1HGphhPqaMUZQ+PNS+DsdpQct2NvojCGvgALKx1tpWHxowiM0A4zkjYiJSpVt+a83lYMXzVZxK9nhwpFHjWptdjLpLBbQphA==",
      medicines:
        "U2FsdGVkX1+/E7WavL/b3GeqY3uCgJk2cfjVJvBsiNwQWEF/2SwElV6JcDMCYwnSRZjCuw6yHDABuNy7ykxDuWOLdCfsKdebezNZrBT7fGxpXox4Y97fH1nT5THQZkADrDckA8mZpkP8VluJq93PuQ==",
      tests:
        "U2FsdGVkX19V1gqYNlyzOEaKMYegWa/VuoK0E9xmzM6Yzlcd1hFjjSKe7nQL1y8XKAAO4+H3soXFZrZizhqbFJtrEW6oLvOGX8sOAX4wpNRpGajEHCwhmT9nJ+ndSAdAGE0dF6JVqONkWYO8GniaKRLfr9j6VyVH3uKRTPKRtx7mbTUoofOu2uiOxBrpcxKIYITFTVm1BqsK9I+SUx7i1w==",
      patientData: "resource:org.example.basic.PatientData#1337",
      transactionId:
        "9d4e4f9cb59111d953484964be90374903cd2e9834d1f5857f7eabb8da12ee88",
      timestamp: "2018-09-30T03:31:44.181Z"
    },
    {
      $class: "org.example.basic.TreatmentDetails",
      HospitalName:
        "U2FsdGVkX18tQ/rknyFXz+xgUzHz3Q93dldvYlqTuk9Tw8tkqDPeawzC2xZAnvzxgQpvcJYvXC64KOy7LhyA/PGfY8j5GfNrf7D2OoGlZp00EgHX95CLX7Ki6nDPiLp1bDs8e66FrfkEbPjNia61dg==",
      StaffId:
        "U2FsdGVkX1+gOec8keXr0f61RZWCXhpKjiKASqI4pIWx2JfKKWs27soD+UqQE3NNhjPldKJTLP4hACbbCh5oLi/IkVQDeQRYb+P1VbLFEgTa53wXj5w0oJ5ythwTbLaaQZvUIL/OdwwdWp1OYlZnYQ==",
      PinCode:
        "U2FsdGVkX19M75PtRQWFew7NMvlUCYcbD/p3xVj7snihniq4wIxYI1LwxJwHgOO8KPDuva7HsBmV7xqv7PwZ66UY9+e+7q+xmAqM+bE7KB971wF65aCA973QnnlUZugECkfFMH2L3rpLBbGJ8zlSguDuiPQx//JWe5JRmc/tlZLYxrO4si7AYPwlIA4DnvjYu9Ll8QbsA7QTS7/q7QYoZg==",
      ChronicDisease:
        "U2FsdGVkX1/JwLEFuTadAC1KTUK8e618UckVNHK7kaN3zPHzR9k8z5XrG9bWzGz/vauMZszXqo01mUM2C0IjEceolzu4hkx3iR0q+1nfue2n0IuILFl8z3pVNnkb8EP57fTmaXVgQpZYCHZJybKXEsGPmQ+SlyJGrrvIKo9vXxEjPVuw9VPI4KekhI8pNKM+MoKbActn6K8RMGqdGRIK9g==",
      Disease:
        "U2FsdGVkX1+S15VTtBD68pkdx0TAWk5VORh2C/9BvPENh9qnkO9nWfcW769NYz7W6wIIw96rEcx3rz/DQ2dgxzLvlhusUIgYiAQAIkOPnzgXAqAotB1u0c4kAwTnHT7gSJBNHwFasnOy5UNmmXnunQ==",
      DiseaseType:
        "U2FsdGVkX1+akqE8XuqS/KlbxDUbRBM9dgn1G2gABu5Yoe7TlzjEmTD8Siy4d0gFvL/BsTJBzUGNLIAB9WZXW7HbdaL4KQbPojPCHvJSkCVkWcx3TvxPBhycCPJ7o8tkm/jxFKtup2U+JCNAMCgSlGH5Uf4O5CKiCFPt7IlxFsYUpdsoPbAb8GvcvCpEmi5UPPILJTzpFfWv4q46NH9BYQ==",
      DiseaseCategory:
        "U2FsdGVkX19uhk/ht/EV27VO3eee+mjfUjuBgDUnfaZaZGKak5ef1viBwJAzC76AnFwUZdTdf4mJtYeHLWq8mjcwB3lTe5fq0OMqOq5RMX7cfx3S9fi+gftWr29xegzdLdgBb5lYAO0w3cCbUjKc3HlY6K/FCzJQu0xB6umLoBQ9yQ5fg/vNwCFa7CmnrZ5JWsO7ZpHLTBjKeeFvyDyj4Q==",
      DiseaseSubCategory:
        "U2FsdGVkX1+9elzLQiuo3HZNbtXWI7Uc984QuAeHvIByX5+tIas5a/k93u4CT35UO65iVL3B4Jdi9dmySzOD6DoVWdv//q/VP+W2XoqIOuF49MkwZ2M6BkuxKgmFtH9VUl4gnPauVh4NG+jclX++xFkyhMeNTCRxpvHtpfcdpCWBeM/YkNDeJ0ymjangqNU1JbzODOEVIyXFu+JQEp5Qy4zASk/Tmisq0mULcc+jqrs=",
      allergies:
        "U2FsdGVkX1/Ov+OqrtwyKufMJY24PmCE91HeE5IJTXUHgfNj/qs527p6RJB+s8IQQb4wE4R+UkZKSTIiZEpkejyLWob0g6doPDzT/p6Dzu0auWbZS0z+l+YKSLArUOG4wOVwer0Wwmvm/cCYZFRCYg==",
      AlcoholConsumption:
        "U2FsdGVkX19Ce2UpR3KDBXELKBuiS9MDnrgFi4xHBs34bo8Im0x0nFVdfeFfIgYr/9C35xnC7x48BYi0fa5EVwj9qxugyJq7Pyk39kpDIVeSlkMQVwskPGwzlevb3R2frkeL00zTI8ewHgrssQXNhw==",
      SmokingHabits:
        "U2FsdGVkX182w0sNU49mUsc0SA6p7HyDa1QZvh++WIMbw8S3F+4NOpLGmXzabd8nAu/UaybJiOi28LpS1sohuxz4EuXfW0syc1rQzHa47dsbdnIKHN6+Na+8mnbI6GSehuadwPzZ88BirJcjT/aPKa6frKFg3UpKKgri6TjPQsEwLs0o6/XmOeESeztKqU1P03CXJdcp6H4o84Ya3Vbp7A==",
      medicines:
        "U2FsdGVkX19s1xlqml82p83EDtvlyFiIevdKMoPUhmzxSqYVOZ+CCjAx/HMk36GCr/qUQhZXe819SJKf5WtVs6+rVElG4gCyHGqZtYEpSwgik1+jkLm689qeJMesHI03WuAdcVzGgDg/CM00t91UCQ==",
      tests:
        "U2FsdGVkX1+gfTGtV7FSsD8otoH1lrkAWgF6hRGG7/6asnN3RPGwXHzKVjn8YiRU43OFF0kQpF5ulQPX+7YuE2NFgxNkkEy2DL8Ls9qO4LkHtX9WVXBdX6EIdYr76Z0hu2ebE0M2UmX1JI1QCkLfdCqovsnXsduio+CoTFhYEyRkvYQNjl17ff7H5/R9kL+fchmwUsg8AjDNygNwPrFYIA==",
      patientData: "resource:org.example.basic.PatientData#1337",
      transactionId:
        "5510efa259431d4ab90ac931d04a00e401b0afc557ee73a1688d405852bb44bd",
      timestamp: "2018-09-30T04:58:56.237Z"
    },
    {
      $class: "org.example.basic.TreatmentDetails",
      HospitalName:
        "U2FsdGVkX1820/0iRR8hBVaZsiR33EVbgTF3NN42g6gdwFPMOb/xzNqEkQ7t0isR2gmwR4bxxBhB/slOAZgzuIUT4BvKVs0JhFHKTdEehaQYH8u1SviX1nOOVwUp9F8uGs3tozaHvqimBKBOCaTzlg==",
      StaffId:
        "U2FsdGVkX1+eY87eycyZeQEjB/mulZJlJ1nvGR/r4L0IWQ7L/ErSTyDhXJTMMvy8/JyEPjkGqTLCKx+ISjzOw0tp0ewZpkQ/tV+p6G1Xmj3m6yX2g08lyd1yGWvjQ7WalRATe/e6uNSobj17GHCgIg==",
      PinCode:
        "U2FsdGVkX1+Teo59wQGPm+fYCVHQiIP36cl7NvF4ydrf0vBDT/wSkOxmUoNjTwR5LkpedBmMxbCA6++gCZ4mu5GklynJHpAUtTsGRKRtw2uRkZXsv3/pa4SV3nwhYDvkU/+xmcqmSdu7Yoz+K/zGQzq/W1bncqM0iB5Yld82lB5FNMTlga46v2YToJB5fwmH+rhdhV5Vvst/6F74TnnfXA==",
      ChronicDisease:
        "U2FsdGVkX185GE9NY8+2PWSxbipeuzOZWsaHNUsO5jHeOCJcIWum37siUUeYUQHFXMfm/g6cenxhjYRTY2fovfaYS17suQ3UI8L7Iu1o+nITiJhtLN7dyMZRROQ4eIHn0gKrjWu+56wgLltPuB1SiUpQj4+yGFf98+26ws5pc51UNIz5nZ56Wju01Hnl2s0c3UCwBPvlWHhQ4C1NazVeDw==",
      Disease:
        "U2FsdGVkX1+UveS6PHurkds4Ig63WE8A9Zduk9lkQrzUpw1ifEoWZBl1+ketecdnpzVtKLvoSxsjKubcTYwccoc7diVsdMVmU3QtCu7lHN6ylWCoq499V7X4JOHtanYKO/BTP0MiuN6odF+IIYDtsw==",
      DiseaseType:
        "U2FsdGVkX18vZM5hae6jDK8m3JF2qUvXpGub4isMQ6XwlOqPg7KCZckGIharMnoONnJGWlmvnr1XxvGGW9M37oTKaNrJOyamfQbi9nceyvbiEsLjviO3oZN26x4YsQJsPQ2dlxXgRQ2Ir654B6v22oylkWThi+BwWyvd29h1uZNCLikM+nixiG2xz3c9GyN5IoIG3JmC/wRsBn+g7KnEWw==",
      DiseaseCategory:
        "U2FsdGVkX1+Yu+a0MLVLm5+Ykz+Is9CUj/erOSSPWOJZ7Nx4GGcuYWCm+IDYCDE1LF3oTagm432CW/7w9ocMEnPKNH/aCb36Bbmv4fYpowWMgF7UoTlC8dDMFq5fba0aIZJH8+GbheHKPuixoqp0b0+Hmb/6obgHYMinQQtuFr0kkiTvs7ktWug8bPUxCjqJyGbZJ069lDC4iITldo+LBQ==",
      DiseaseSubCategory:
        "U2FsdGVkX1+p/Xn+v4OGNvaRSLhZmQSB9fqa4cpDoce4PsPwjcxHFdzQsiCQrS/lDj8CFPulqcqx4/LOZi7pOGZGK3Vpeni8r7aieDQr4zR3+u481QOtmrXWT7NcwwAF5fKpc3RKFKU9a8DMMvQ1U9/IMGW53uCx6/voCH1ylXDjawhWrtpy9SXHv9IWAYjzFRvbuSHKvtCLq2y1ktbR+PTRf8EKiwW/ITAan6z+6+U=",
      allergies:
        "U2FsdGVkX1/PQ37+qzArtp7fbDjEWIbzP9k2T1lKyW5f0M7hAdfCyTAE8hmhbreU6GAtQExYYeBSekRTgYAUd0GGudE0n7mUwQsqxylBN96fIC0yqs0nhnN55TDTxWCG+WXndEA8WCp6fPJuIZhCvw==",
      AlcoholConsumption:
        "U2FsdGVkX1/FUbCrqzHf3otIWG5YXi+1B4jnY5bSJe0vi4we0vNzpvWRmbOD/u1CK3bNdqMPUamuW81kgNWeIJvUMq16X7A7LjMG69yj+AAR3pCpB5+PKdlR+2bh6t+IlZ+8CaTZ6pwYlCrBkhmMnA==",
      SmokingHabits:
        "U2FsdGVkX19QNdkpblH2CB//QV++H4VTpC0Kkm8O1kmh8fyf7GpCLG8LlP5/Ay61xrXFkRkHP0wEfAa73pPMXpkPAcmHbqHxsCBciJ4sT/ra6VwsTJISFHjhaEzqtq6yDBn4c3O3EMCrq0M+TuUR9IR3XUpMWmWo0zUUsP0PihT9F49OKvieo9cT5F8Z0Ee4+rI/kPuUFwQqaf3cz7XFJw==",
      medicines:
        "U2FsdGVkX19FRu7Sbr0hF+R0JCnjRWZlnVOhkUz/Aibgxd6YNJghV9ovvCMfbtXCA1GQDAq8QXDSyMmZ6Jd2r6Pw8QNeXgqP5WM1w55mfW/2DwkJYCFxANcKuJ6SVV2d0sk0rTUSvC4B6TOey9m7kA==",
      tests:
        "U2FsdGVkX1/GaH+xt69HJRuflH5rS8Q16jxyTAoQjcXkTFgvOyWJSX8srmYY2Fl6t8vj9zkqqNNandOwpCFdQ0FLp5tUKjbEJWrX4RaSKmY+MhLxlUAsakeCpec31rjW6uBHKlzIO8nYY7fsXlsehn3l35b46yTO+0aoLnxGdynhq23C27oL7teWAE+ewfKxrO7ZVPnmyv8oaMtJR7hpSg==",
      patientData: "resource:org.example.basic.PatientData#1337",
      transactionId:
        "409167b1bc4e92a016d5b0fc77d9f1b3949ec78440d226fef181a0b613b6bff9",
      timestamp: "2018-09-30T04:59:52.529Z"
    }
  ]
};

// let time = data.TreatmentDetails[data.TreatmentDetails.length - 1];

// var exactTime = new Date(time).toLocaleString();
// console.log(exactTime);

let lastRecord = data => {
  return new Promise((resolve, reject) => {
    let lastRecord = {};
    lastRecord.Disease =
      data.TreatmentDetails[data.TreatmentDetails.length - 1].Disease;
    lastRecord.ChronicDisease =
      data.TreatmentDetails[data.TreatmentDetails.length - 1].ChronicDisease;
    lastRecord.timestamp = new Date(
      data.TreatmentDetails[data.TreatmentDetails.length - 1].timestamp
    ).toLocaleString();
    lastRecord.symptom =
      data.TreatmentDetails[data.TreatmentDetails.length - 1].symptom;
    resolve(lastRecord);
  });
};

// lastRecord(data).then(res => {
//   console.log(res);
// });

module.exports = {
  lastRecord
};
